{% extends 'main.html' %}
{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'styles/tableStyles.css' %}">
    <div style="position:relative">  
        <div>
            <table class="styled-table">
                <tr>
                    <th>Find User</th>
                </tr>
                <form method="post">
                    {% csrf_token %}
                    <tr><td>{{form.username}}<button type="submit" >Search</button>
                    </td></tr>
                </form>
            </table>
        </div>  
<br>
    <div style="position: relative;width:300px">
        <table class="styled-table">
            <tr><th>Recent Submissions</th></tr>
            <tr>
                <td>  
                    {% for sub_it in sub %}
                    <div>{{ sub_it.name }}</div>
                    {% endfor %}
                </td>
            </tr>
        </table>
    </div>
</div>
        
        <div>
            <canvas id="myChart" ></canvas>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        
        <script>
            const ctx = document.getElementById('myChart');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: {{data.x|safe}},
                    datasets: [{
                        label: 'No. of problems',
                        data: {{ data.y|safe }},
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            </script>
  
  
  
  {% endblock content %}